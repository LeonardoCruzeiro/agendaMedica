/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Visao;

import ModeloConection.ConexaoBD;
import ModeloDao.DaoMedico;
import ModeloBeans.BeansMedico;
import ModeloBeans.ModeloTabela;
import java.sql.SQLException;
import java.util.ArrayList;
import javax.swing.JOptionPane;
import javax.swing.ListSelectionModel;

/**
 *
 * @author Leonardo
 */
public class FormMedico extends javax.swing.JFrame {

   int flag = 0;
   BeansMedico mod = new BeansMedico();
   ConexaoBD conex = new ConexaoBD();
   DaoMedico control = new DaoMedico();
    
   public FormMedico() {
        initComponents();
        preencherTabela("select * from medico order by n_codmedico ");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jTextField1 = new javax.swing.JTextField();
        jComboBox1 = new javax.swing.JComboBox<>();
        jButton1 = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jTextField2 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jPanelCadMedico = new javax.swing.JPanel();
        jLabelNomeMedico = new javax.swing.JLabel();
        jLabelCrmMedico = new javax.swing.JLabel();
        jLabelEspecialidadeMedico = new javax.swing.JLabel();
        jFormattedTextFieldCrmMedico = new javax.swing.JFormattedTextField();
        jTextFieldNomeMedico = new javax.swing.JTextField();
        jComboBoxEspecialidadeMedico = new javax.swing.JComboBox<>();
        jButtonNovoMedico = new javax.swing.JButton();
        jButtonSalvarMedico = new javax.swing.JButton();
        jButtonEditarMedico = new javax.swing.JButton();
        jButtonExcluirMedico = new javax.swing.JButton();
        jLabelNascimentoMedico = new javax.swing.JLabel();
        jFormattedTextFieldNascimentoMedico = new javax.swing.JFormattedTextField();
        jLabelCodigoMedico = new javax.swing.JLabel();
        jTextFieldCodigoMedico = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTablePesquisarMedico = new javax.swing.JTable();
        jButtonPesquisar = new javax.swing.JButton();
        jTextFieldPesquisar = new javax.swing.JTextField();
        jLabelCadMedico = new javax.swing.JLabel();

        jTextField1.setText("jTextField1");

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        jButton1.setText("jButton1");

        jLabel1.setText("jLabel1");

        jTextField2.setText("jTextField2");

        jLabel2.setText("jLabel2");

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jPanelCadMedico.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabelNomeMedico.setText("NOME");

        jLabelCrmMedico.setText("CRM");

        jLabelEspecialidadeMedico.setText("Especialidade");

        jFormattedTextFieldCrmMedico.setEnabled(false);

        jTextFieldNomeMedico.setEnabled(false);

        jComboBoxEspecialidadeMedico.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "ORTOPEDIA", "NEUROLOGIA", "PEDIATRIA", " " }));
        jComboBoxEspecialidadeMedico.setSelectedItem(this);
        jComboBoxEspecialidadeMedico.setToolTipText("ORTOPEDIA\nNEUROLOGIA\nPEDIATRIA\n");
        jComboBoxEspecialidadeMedico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxEspecialidadeMedicoActionPerformed(evt);
            }
        });

        jButtonNovoMedico.setText("Novo");
        jButtonNovoMedico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonNovoMedicoActionPerformed(evt);
            }
        });

        jButtonSalvarMedico.setText("Salvar");
        jButtonSalvarMedico.setEnabled(false);
        jButtonSalvarMedico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSalvarMedicoActionPerformed(evt);
            }
        });

        jButtonEditarMedico.setText("Editar");
        jButtonEditarMedico.setEnabled(false);
        jButtonEditarMedico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEditarMedicoActionPerformed(evt);
            }
        });

        jButtonExcluirMedico.setText("Excluir");
        jButtonExcluirMedico.setEnabled(false);
        jButtonExcluirMedico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonExcluirMedicoActionPerformed(evt);
            }
        });

        jLabelNascimentoMedico.setText("Nascimento");

        jFormattedTextFieldNascimentoMedico.setEnabled(false);

        jLabelCodigoMedico.setText("Codigo");

        jTablePesquisarMedico.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        jTablePesquisarMedico.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTablePesquisarMedicoMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(jTablePesquisarMedico);

        jButtonPesquisar.setText("Pesquisar");
        jButtonPesquisar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonPesquisarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelCadMedicoLayout = new javax.swing.GroupLayout(jPanelCadMedico);
        jPanelCadMedico.setLayout(jPanelCadMedicoLayout);
        jPanelCadMedicoLayout.setHorizontalGroup(
            jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelCadMedicoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelCadMedicoLayout.createSequentialGroup()
                        .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelCodigoMedico)
                            .addComponent(jTextFieldCodigoMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelNomeMedico)
                            .addComponent(jTextFieldNomeMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelCadMedicoLayout.createSequentialGroup()
                                .addGap(22, 22, 22)
                                .addComponent(jLabelCrmMedico)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelCadMedicoLayout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 19, Short.MAX_VALUE)
                                .addComponent(jFormattedTextFieldCrmMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)))
                        .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jFormattedTextFieldNascimentoMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 68, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabelNascimentoMedico))
                        .addGap(29, 29, 29)
                        .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelEspecialidadeMedico)
                            .addComponent(jComboBoxEspecialidadeMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanelCadMedicoLayout.createSequentialGroup()
                        .addGap(15, 15, 15)
                        .addComponent(jButtonNovoMedico)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButtonSalvarMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButtonEditarMedico)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButtonExcluirMedico))
                    .addGroup(jPanelCadMedicoLayout.createSequentialGroup()
                        .addComponent(jTextFieldPesquisar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButtonPesquisar)))
                .addContainerGap())
        );
        jPanelCadMedicoLayout.setVerticalGroup(
            jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelCadMedicoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelNomeMedico)
                    .addComponent(jLabelCrmMedico)
                    .addComponent(jLabelNascimentoMedico)
                    .addComponent(jLabelEspecialidadeMedico)
                    .addComponent(jLabelCodigoMedico))
                .addGap(1, 1, 1)
                .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextFieldNomeMedico, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jFormattedTextFieldCrmMedico, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jFormattedTextFieldNascimentoMedico, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBoxEspecialidadeMedico, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextFieldCodigoMedico, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 23, Short.MAX_VALUE)
                .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonPesquisar)
                    .addComponent(jTextFieldPesquisar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(47, 47, 47)
                .addGroup(jPanelCadMedicoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonNovoMedico)
                    .addComponent(jButtonSalvarMedico)
                    .addComponent(jButtonEditarMedico)
                    .addComponent(jButtonExcluirMedico))
                .addGap(25, 25, 25))
        );

        jLabelCadMedico.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabelCadMedico.setText("CADASTRO DE MEDICO");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanelCadMedico, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabelCadMedico, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(jLabelCadMedico)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanelCadMedico, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        setSize(new java.awt.Dimension(684, 388));
        setLocationRelativeTo(null);
    }// </editor-fold>                        

    private void jButtonSalvarMedicoActionPerformed(java.awt.event.ActionEvent evt) {                                                    
       
        if(jTextFieldNomeMedico.getText().isEmpty()){
            JOptionPane.showMessageDialog(null,"INFORME O NOME");
            jTextFieldNomeMedico.requestFocus();
        }else if(jFormattedTextFieldCrmMedico.getText().isEmpty()){
            JOptionPane.showMessageDialog(null,"INFORME O CRM ");
            jFormattedTextFieldCrmMedico.requestFocus();
        }else if(jFormattedTextFieldNascimentoMedico.getText().isEmpty()){
            JOptionPane.showMessageDialog(null, "INFORME A DATA DE NASCIMENTO");
            jFormattedTextFieldNascimentoMedico.requestFocus();
        }else
        
       if(flag==1){
       mod.setNome(jTextFieldNomeMedico.getText());
       mod.setCrm(Integer.parseInt(jFormattedTextFieldCrmMedico.getText()));
       mod.setNasc(jFormattedTextFieldNascimentoMedico.getText());
       mod.setEspecialidade((String)jComboBoxEspecialidadeMedico.getSelectedItem());
       control.Salvar(mod);
       
       jTextFieldNomeMedico.setText("");
       jFormattedTextFieldCrmMedico.setText("");
       jFormattedTextFieldNascimentoMedico.setText("");
       jTextFieldNomeMedico.setEnabled(false);
       jFormattedTextFieldCrmMedico.setEnabled(false);
       jFormattedTextFieldNascimentoMedico.setEnabled(false);
       jComboBoxEspecialidadeMedico.setEnabled(false);
       jButtonSalvarMedico.setEnabled(false);
       
       }else{
          preencherTabela("select * from medico order by n_codmedico "); 
           mod.setCodigo((Integer.parseInt(jTextFieldCodigoMedico.getText())));
           mod.setNome(jTextFieldNomeMedico.getText());
           mod.setCrm((Integer.parseInt(jFormattedTextFieldCrmMedico.getText())));
           mod.setNasc(jFormattedTextFieldNascimentoMedico.getText());
           mod.setEspecialidade((String)jComboBoxEspecialidadeMedico.getSelectedItem());
           control.Editar(mod);
           jTextFieldCodigoMedico.setText("");
           jTextFieldNomeMedico.setText("");
           jFormattedTextFieldCrmMedico.setText("");
           jFormattedTextFieldNascimentoMedico.setText("");
           jComboBoxEspecialidadeMedico.setSelectedItem("");
           jTextFieldPesquisar.setText("");
           jTextFieldNomeMedico.setEnabled(false);
           jFormattedTextFieldCrmMedico.setEnabled(false);
           jFormattedTextFieldNascimentoMedico.setEnabled(false);
           jComboBoxEspecialidadeMedico.setEnabled(false);
           jButtonSalvarMedico.setEnabled(false);
           jButtonExcluirMedico.setEnabled(false);
           jButtonNovoMedico.setEnabled(true);
           
         preencherTabela("select * from medico order by n_codmedico ");   
       }
    }                                                   

    private void jButtonNovoMedicoActionPerformed(java.awt.event.ActionEvent evt) {                                                  
        
        
        flag = 1;
        jTextFieldNomeMedico.setEnabled(true);
        jFormattedTextFieldCrmMedico.setEnabled(true);
        jFormattedTextFieldNascimentoMedico.setEnabled(true);
        jComboBoxEspecialidadeMedico.setEnabled(true);
        jButtonSalvarMedico.setEnabled(false);
        
        
        jTextFieldCodigoMedico.setText("");
        jTextFieldNomeMedico.setText("");
        jFormattedTextFieldCrmMedico.setText("");
        jFormattedTextFieldNascimentoMedico.setText("");
        jComboBoxEspecialidadeMedico.setSelectedItem("");
        
        jButtonEditarMedico.setEnabled(false);
        jButtonExcluirMedico.setEnabled(false);
        jButtonSalvarMedico.setEnabled(true);
        jButtonNovoMedico.setEnabled(true);
        preencherTabela("select * from medico order by n_codmedico ");
    }                                                 

    private void jButtonPesquisarActionPerformed(java.awt.event.ActionEvent evt) {                                                 
        mod.setPesquisa(jTextFieldPesquisar.getText());
        BeansMedico model = control.buscaMedico(mod);
        jTextFieldCodigoMedico.setText(String.valueOf(model.getCodigo()));
        jTextFieldNomeMedico.setText(model.getNome());
        jFormattedTextFieldCrmMedico.setText(String.valueOf(model.getCrm()));
        jFormattedTextFieldNascimentoMedico.setText(model.getNasc());
        jComboBoxEspecialidadeMedico.setSelectedItem(model.getEspecialidade());
        jButtonEditarMedico.setEnabled(true);
        jButtonExcluirMedico.setEnabled(true);
        preencherTabela("select * from medico order by n_codmedico ");
    }                                                

    private void jButtonExcluirMedicoActionPerformed(java.awt.event.ActionEvent evt) {                                                     
        int resposta =0;
        resposta=JOptionPane.showConfirmDialog(rootPane, "DESEJA REALMENTE EXCLUIR ?");
        if(resposta==JOptionPane.YES_NO_OPTION){
            mod.setCodigo(Integer.parseInt(jTextFieldCodigoMedico.getText()));
            control.Excluir(mod);
        }
           jTextFieldCodigoMedico.setText("");
           jTextFieldNomeMedico.setText("");
           jFormattedTextFieldCrmMedico.setText("");
           jFormattedTextFieldNascimentoMedico.setText("");
           jComboBoxEspecialidadeMedico.setSelectedItem("");
           jTextFieldPesquisar.setText("");
        jTextFieldNomeMedico.setEnabled(false);
        jFormattedTextFieldCrmMedico.setEnabled(false);
        jFormattedTextFieldNascimentoMedico.setEnabled(false);
        jComboBoxEspecialidadeMedico.setEnabled(false);
        jButtonSalvarMedico.setEnabled(false);
        jButtonExcluirMedico.setEnabled(false);
        jButtonEditarMedico.setEnabled(false);
        jButtonNovoMedico.setEnabled(true);
        preencherTabela("select * from medico order by n_codmedico ");
    }                                                    

    private void jButtonEditarMedicoActionPerformed(java.awt.event.ActionEvent evt) {                                                    
        flag = 2;
        jTextFieldNomeMedico.setEnabled(true);
        jFormattedTextFieldCrmMedico.setEnabled(true);
        jFormattedTextFieldNascimentoMedico.setEnabled(true);
        jComboBoxEspecialidadeMedico.setEnabled(true);
        jButtonSalvarMedico.setEnabled(true);
        jButtonEditarMedico.setEnabled(false);
        jButtonNovoMedico.setEnabled(false);
        jButtonExcluirMedico.setEnabled(true);
        preencherTabela("select * from medico order by n_codmedico ");
    }                                                   

    private void jComboBoxEspecialidadeMedicoActionPerformed(java.awt.event.ActionEvent evt) {                                                             
        // TODO add your handling code here:
    }                                                            

    private void jTablePesquisarMedicoMouseClicked(java.awt.event.MouseEvent evt) {                                                   
       String nome_medico = ""+jTablePesquisarMedico.getValueAt(jTablePesquisarMedico.getSelectedRow(),1);
       conex.conexao();
       conex.executaSQL("select * from medico where c_nomemedico='"+nome_medico+"'");
       try{
           conex.rs.first();
           jTextFieldCodigoMedico.setText(String.valueOf(conex.rs.getInt("n_codmedico")));
           jTextFieldNomeMedico.setText(conex.rs.getString("c_nomemedico"));
           jFormattedTextFieldCrmMedico.setText(String.valueOf(conex.rs.getInt("n_crmmedico")));
           jFormattedTextFieldNascimentoMedico.setText(conex.rs.getString("d_nascmedico"));
           jComboBoxEspecialidadeMedico.setSelectedItem(conex.rs.getString("c_espemedico"));
           
       }catch(SQLException ex){
           JOptionPane.showMessageDialog(null,"ERRO AO SELECIONAR O ITEM NA TABELA /n"+ex);
       }
       
       conex.desconecta();
       jButtonSalvarMedico.setEnabled(false);
       jButtonNovoMedico.setEnabled(false);
       jButtonEditarMedico.setEnabled(true);
       jButtonExcluirMedico.setEnabled(true);
       preencherTabela("select * from medico order by n_codmedico ");
    }                                                  

    public void preencherTabela(String Sql){
        ArrayList dados = new ArrayList();
        String [] coluna = new String[]{"codigo","nome","crm","nascimento","especialidade"};
        
        conex.conexao();
        conex.executaSQL(Sql);
        try{
          conex.rs.first();
          do{
           
        dados.add(new Object[]{conex.rs.getInt("n_codmedico"),conex.rs.getString("c_nomemedico"),conex.rs.getInt("n_crmmedico"),conex.rs.getString("d_nascmedico"),conex.rs.getString("c_espemedico")});
          
          }while(conex.rs.next());
        }catch(SQLException ex){
         JOptionPane.showMessageDialog(null, "Erro ao carregar o ArrayList\n"+ex);
        }     
        ModeloTabela modelo = new ModeloTabela(dados,coluna);
        
        jTablePesquisarMedico.setModel(modelo);
        jTablePesquisarMedico.getColumnModel().getColumn(0).setPreferredWidth(30);
        jTablePesquisarMedico.getColumnModel().getColumn(0).setResizable(false);
        jTablePesquisarMedico.getColumnModel().getColumn(1).setPreferredWidth(220);
        jTablePesquisarMedico.getColumnModel().getColumn(1).setResizable(false);
        jTablePesquisarMedico.getColumnModel().getColumn(2).setPreferredWidth(100);
        jTablePesquisarMedico.getColumnModel().getColumn(2).setResizable(false);
        jTablePesquisarMedico.getColumnModel().getColumn(3).setPreferredWidth(80);
        jTablePesquisarMedico.getColumnModel().getColumn(3).setResizable(false);
        jTablePesquisarMedico.getColumnModel().getColumn(4).setPreferredWidth(220);
        jTablePesquisarMedico.getColumnModel().getColumn(4).setResizable(false);
        
        jTablePesquisarMedico.getTableHeader().setReorderingAllowed(false);
        jTablePesquisarMedico.setAutoResizeMode(jTablePesquisarMedico.AUTO_RESIZE_OFF);
        jTablePesquisarMedico.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        
        
        conex.desconecta();
    }
    
    
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(FormMedico.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(FormMedico.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(FormMedico.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(FormMedico.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new FormMedico().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButtonEditarMedico;
    private javax.swing.JButton jButtonExcluirMedico;
    private javax.swing.JButton jButtonNovoMedico;
    private javax.swing.JButton jButtonPesquisar;
    private javax.swing.JButton jButtonSalvarMedico;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JComboBox<String> jComboBoxEspecialidadeMedico;
    private javax.swing.JFormattedTextField jFormattedTextFieldCrmMedico;
    private javax.swing.JFormattedTextField jFormattedTextFieldNascimentoMedico;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabelCadMedico;
    private javax.swing.JLabel jLabelCodigoMedico;
    private javax.swing.JLabel jLabelCrmMedico;
    private javax.swing.JLabel jLabelEspecialidadeMedico;
    private javax.swing.JLabel jLabelNascimentoMedico;
    private javax.swing.JLabel jLabelNomeMedico;
    private javax.swing.JPanel jPanelCadMedico;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTablePesquisarMedico;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextFieldCodigoMedico;
    private javax.swing.JTextField jTextFieldNomeMedico;
    private javax.swing.JTextField jTextFieldPesquisar;
    // End of variables declaration                   
}
